# llms-gen

Generate and monitor [`llms.txt`](https://www.llmstxt.org) files automatically from any website.  
Works as both a **CLI tool** and an **SDK**.

---

## ✨ Features
- 🔍 Crawl websites to generate `llms.txt`
- 📂 Groups URLs into logical sections (Blog, Guides, Features, etc.)
- ⚡ Supports Playwright for JS-heavy sites
- 🕵️ Smart change detection via HTTP headers (`etag`, `last-modified`, `content-length`)
- 🔔 Automated monitoring with callbacks
- 🛠 Usable from CLI **or** programmatically via SDK

---

## 📦 Installation
```bash
npm install -g llms-gen
```

Or use with `npx` (no install required):
```bash
npx llms-gen https://example.com
```

For SDK:
```bash
npm install llms-gen
```

---

## 🚀 CLI Usage

```bash
llms-gen <rootUrl>
```

Example:
```bash
llms-gen https://tryprofound.com
```

This will:
- Crawl the website
- Detect changes
- Generate or update `llms.txt` in the current working directory

Output:
```
[llms-gen] Checking for changes at https://tryprofound.com...
[llms-gen] ✅ llms.txt updated at: ./llms.txt
```

---

## 🧑‍💻 SDK Usage

### Generate `llms.txt`
```ts
import { generateLlmsTxt } from "llms-gen";

await generateLlmsTxt({
  rootUrl: "https://tryprofound.com",
  outputDir: "./"
});
```

### Generate only if changed
```ts
import { generateIfChanged } from "llms-gen";

const res = await generateIfChanged({
  rootUrl: "https://tryprofound.com",
  outputDir: "./"
});

if (res) {
  console.log("✅ Updated:", res.shortPath);
} else {
  console.log("No changes detected.");
}
```

### Continuous Monitoring
```ts
import { startMonitor } from "llms-gen";

startMonitor(
  { rootUrl: "https://tryprofound.com", intervalMs: 1000 * 60 * 5 }, // every 5 mins
  async () => {
    console.log("Website changed, regenerating...");
    return await generateIfChanged({ rootUrl: "https://tryprofound.com" });
  }
);
```

---

## ⚡ Quick Example of `llms.txt` Output

```txt
# tryprofound.com

> Profound helps brands gain visibility in AI-generated answers, optimize their presence in LLM-based answer engines, and stay competitive in the zero-click world.

## Blog

- [Blog - AI Search Optimization News and Updates](https://www.tryprofound.com/blog): Stay informed about the latest developments in AI Search Optimization.
- [How AI Answer Engines Will Transform the Future](https://www.tryprofound.com/blog/how-ai-answer-engines-will-transform-the-future)

## Guides

- [What is Answer Engine Optimization (AEO)? Understanding AEO for the Future of Search](https://www.tryprofound.com/guides/what-is-answer-engine-optimization)

## Features

- [Answer Engine Insights](https://www.tryprofound.com/features/answer-engine-insights)
```

---

## ⚙️ Options

Both CLI & SDK support:
- `rootUrl` (string, required) — website root
- `outputDir` (string) — output folder for `llms.txt`
- `userAgent` (string) — custom UA
- `concurrency` (number) — parallel requests
- `delayMs` (number) — delay between requests
- `includePatterns` / `excludePatterns` (RegExp[]) — filtering
- `usePlaywright` (boolean) — enable JS rendering
- `scrapeTimeoutMs` (number) — page timeout
- `ignoreRobotsForSitemap` (boolean) — bypass robots.txt
- `logRobots` (boolean) — debug robots.txt parsing

---

## 🛡 License
MIT © 2025
